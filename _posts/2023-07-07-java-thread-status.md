---
layout: post
title: 쓰레드의 상태
description: Java의 정석 기초편 ch. 13 쓰레드
categories: Java
date: 2023-07-07 12:42:00 +0900
---
쓰레드는 생성된 후부터 종료될 때까지 여러 상태를 가질 수 있으며, 그 상태는 다음과 같다.

<table>
    <tr>
        <th>상태</th>
        <th>설명</th>
    </tr>
    <tr>
        <td>NEW</td>
        <td>쓰레드가 생성되고 아직 start()가 호출되지 않은 상태</td>
    </tr>
    <tr>
        <td>RUNNABLE</td>
        <td>실행 중 또는 실행 가능한 상태</td>
    </tr>
    <tr>
        <td>BLOCKED</td>
        <td>동기화블럭에 의해서 일시정지된 상태(lock이 풀릴 때까지 기다리는 상태)</td>
    </tr>
    <tr>
        <td>WAITING,<br>TIMED_WAITING</td>
        <td>쓰레드의 작업이 종료되지는 않았지만 실행가능하지 않은(unrunnable) 일시정지상태. TIMED_WAITING은 일시정지시간이 지정된 경우를 의미</td>
    </tr>
    <tr>
        <td>TERMINATED</td>
        <td>쓰레드의 작업이 종료된 상태</td>
    </tr>
</table>

다음 그림은 쓰레드의 생성부터 소멸까지의 모든 과정을 그린 것인데, 앞서 소개한 메서드들에 의해서 쓰레드의 상태가 어떻게 변화되는지를 잘 보여준다.

![Java의 정석 기초편 ch. 13 쓰레드의 상태 그림 13-8](https://github.com/johnkdk609/johnkdk609.github.io/assets/88493727/ab88f023-fd8e-4639-bc22-36d42305c8c3)

① 쓰레드를 생성하고 start()를 호출하면 바로 실행되는 것이 아니라 실행대기열에 저장되어 자신의 차례가 될 때까지 기다려야 한다. 실행대기열은 큐(queue)와 같은 구조로 먼저 실행대기열에 들어온 쓰레드가 먼저 실행된다.\
② 실행대기상태에 있다가 자신의 차례가 되면 실행상태가 된다.\
③ 주어진 실행시간이 다되거나 yield()를 만나면 다시 실행대기상태가 되고 다음 차례의 쓰레드가 실행상태가 된다.\
④ 실행 중에 suspend(), sleep(), wait(), join(), I/O block에 의해 일시정지상태가 될 수 있다. I/O block은 입출력작업에서 발생하는 지연상태를 말한다. 사용자의 입력을 기다리는 경우를 예로 들 수 있는데, 이런 경우 일시정지 상태에 있다가 사용자가 입력을 마치면 다시 실행대기상태가 된다.\
⑤ 지정된 일시정지시간이 다되거나(time-out), notify(), resume(), interrupt()가 호출되면 일시정지상태를 벗어나 다시 실행대기열에 저장되어 자신의 차례를 기다리게 된다.\
⑥ 실행을 모두 마치거나 stop()이 호출되면 쓰레드는 소멸된다.