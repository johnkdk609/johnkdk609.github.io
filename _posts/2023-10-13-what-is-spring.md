---
layout: post
title: 스프링이란?
description: 스프링 핵심 원리 - 기본편
categories: Spring-SpringBoot
date: 2023-10-13 17:30:00 +0900
---
스프링이 뭔지 자세히 알아보겠다.

## 스프링 생태계

스프링은 어떤 특정한 하나가 아니라 여러 가지 기술의 모음이다.

<img width="730" alt="image" src="https://github.com/johnkdk609/johnkdk609.github.io/assets/88493727/42b13d3f-b93f-45a8-bef3-5268a8933bac">

먼저 스프링의 핵심이 되는 <b>스프링 프레임워크</b>, 그리고 여러 스프링 기술들을 편리하게 사용할 수 있도록 도와주는 <b>스프링 부트</b>가 있다.

그리고 스프링 데이터, 세션, 시큐리티, Rest Docs, 배치, 클라우드 등이 있다. 스프링 데이터의 경우, 데이터베이스가 관계형 DB이든 NoSQL이든, MongoDB든 Redis든 기본적인 CRUD(등록, 수정, 삭제, 조회)는 비슷하다. 이런 것들을 굉장히 편리하게 사용할 수 있도록 도와주는 것이 스프링 데이터이고, 제일 많이 쓰는 기술은 스프링 데이터 JPA이다. 스프링 세션의 경우 세션 기능을 좀 편리하게 사용할 수 있도록 도와주는 기능이고, 시큐리티는 보안과 관련된 것, Rest Docs는 API 문서화를 편리하게 해주는 것, 스프링 배치는 배치 처리에 특화된 기술이며, 스프링 클라우드는 클라우드 기술에 특화된 기술이다.

<br>

이것들 외에도 굉장히 많은 기술이 있다. spring.io 사이트에 들어가서 내비게이션 바의 Projects &#62; Overview로 들어갔을 때 다양한 기술들이 존재하는 것을 볼 수 있다.

<img width="475" alt="image" src="https://github.com/johnkdk609/johnkdk609.github.io/assets/88493727/a858ca90-dd0c-4d0f-a86f-41ad1e35bcfb">

페이지 아랫 부분에는 '다락방 프로젝트(Projects in the Attic)'라고 해서 또 몇 가지가 있다.

<br>

아무튼 이 모든 기술 중에서 제일 중요한 핵심은 스프링 프레임워크이고, 이 모든 기술을 편리하게 사용하도록 도와주는 것이 스프링 부트이다.


## 스프링 프레임워크

스프링 프레임워크는 하나로 이루어진 것은 아니고, 이 안에는 핵심 기술, 웹 기술, 데이터 접근 기술, 기술 통합, 테스트, 언어 등이 있다.

* <b>핵심 기술</b>: 스프링 DI 컨테이너, AOP, 이벤트, 기타
* <b>웹 기술</b>: 스프링 MVC, 스프링 WebFlux
* <b>데이터 접근 기술</b>: 트랜잭션, JDBC, ORM 지원, XML 지원
* <b>기술 통합</b>: 캐시, 이메일, 원격접근, 스케줄링
* <b>테스트</b>: 스프링 기반 테스트 지원
* <b>언어</b>: 코틀린, 그루비
* 최근에는 스프링 부트를 통해서 스프링 프레임워크의 기술들을 편리하게 사용

(이 강의에서 설명하고 초점을 맞추는 것은 핵심 기술이다. 나머지는 다 여기서 파생된 것이라고 보면 된다.)


## 스프링 부트

최근에는 스프링 프레임워크를 편리하게 사용할 수 있는 스프링 부트를 통해서 스프링 프레임워크를 사용한다.

* <b>스프링을 편리하게 사용할 수 있도록 지원, 최근에는 기본으로 사용</b>
* 단독으로 실행할 수 있는 스프링 애플리케이션을 쉽게 생성
* Tomcat 같은 웹 서버를 내장해서 별도의 웹 서버를 설치하지 않아도 됨
* 손쉬운 빌드 구성을 위한 starter 종속성 제공
* 스프링과 3rd party(외부) 라이브러리 자동 구성
* 메트릭, 상태 확인, 외부 구성 같은 프로덕션 준비 기능 제공
* 관례에 의한 간결한 설정

예전에는 스프링으로 프로젝트를 하나 하려고 하면 (보통 웹 어플리케이션을 개발하니까) build를 하고, Tomcat 서버를 별도로 설치하고, 톰캣 서버의 특정 위치에 빌드된 것들을 넣고 띄우고.. 복잡했다. 그런데 지금은 빌드하고 서버 띄우는 것까지 자체적으로 다 몇 줄 치면 된다.

'손쉬운 빌드 구성을 위한 starter 종속성 제공'이란, 예전에는 스프링 프레임워크를 쓰기 위해 이 라이브러리를 쓰고 다 했어야 했다. 그런 것들이 꽤 어려웠다. 그런데 편하게 라이브러리를 하나만 당기면 starter와 나머지 라이브러리까지 같이 챙겨서 하는 것을 굉장히 편하게 잘 구성해놨다.

'스프링과 3rd party(외부) 라이브러리 자동 구성'이란 무슨 얘기나면, 과거에는 버전 호환성을 맞추기 쉽지 않았다. 그런데 스프링 부트는 예를 들어 스프링 프레임워크 5.1에서는 외부 라이브러리들을 어떤 것들을 쓰는지 버전을 다 챙겨준다. 유명한 메이저 라이브러리들은 궁합과 조합이 맞는지 스프링이 다 테스트하고 버전까지 지정해서 다운로드 받을 수 있게 해주는 것이다. 그래서 우리가 외부 라이브러리 버전에 대해서 크게 고민하지 않아도 된다.

'메트릭, 상태 확인, 외부 구성 같은 프로덕션 준비 기능 제공'이란, 운영 환경에서 모니터링 하는 것이 굉장히 중요하다. 그런 것들에 대해 스프링 부트가 기본적으로 어느 정도 제공해준다.

그리고 관례에 의한 간결한 설정을 해준다. 예전에 스프링 프레임워크만 사용할 때에는 설정하는 것이 진짜 힘들었다. 그런데 스프링 부트는 웬만하면 다 디폴트 설정이 있고 매뉴얼에 다 나와있다. 거기서 보고 내가 필요하면 설정을 조금만 변경하면 되는 것이다. 대부분 관례에 의한 설정을 하고 필요할 때만 커스텀하게 하면 되는 것이다.

<br>

스프링 부트는 스프링 프레임워크와 별도로 사용할 수 있는 것이 아니다. 스프링 부트는 여러 가지 기술들(스프링 프레임워크, 스프링 데이터, 스프링 시큐리티 등)을 편리하게 사용할 수 있도록 중간에서 기능들을 제공하는 것이다. 기본적으로 스프링 부트는 꼭 스프링 프레임워크를 사용해서 도와주는 기술이다. (물론 스프링 부트를 쓰면 자동으로 스프링 프레임워크를 당기고 그렇기는 한다.)


## 스프링 단어?

스프링이라는 단어는 문맥에 따라 다르게 사용된다.

좁혀서 얘기하면 다음과 같다.

* <b>스프링 DI 컨테이너 기술</b>
* <b>스프링 프레임워크</b>
* <b>스프링 부트, 스프링 프레임워크 등을 모두 포함한 스프링 생태계</b>


## 스프링은 왜 만들었는가?

스프링을 왜 만들었는가를 알아보기 전에, 핵심 개념에 대해 짚고 넘어가야 한다. 아무리 복잡한 기술도 이 기술의 핵심 컨셉은 단순하다. '이 기술을 왜 만들었는가?' 이 핵심 컨셉은 진짜 단순하게 시작하는 것이다. 이 단순한 핵심 컨셉이 너무 좋으면 기술이 붙으면서 커지는 것이다.

<b>핵심 개념</b>
- <b>이 기술을 왜 만들었는가?</b>
- <b>이 기술의 핵심 컨셉은?</b>

지금 스프링 프레임워크 생태계도 어마어마하다. 이 큰 생태계도 처음에 Rod Johnson이 시작했던 30,000줄의 코드에서 시작하는 것이다. 스프링 기술이 매우 복잡하고 커 보이는데, 이 기술이 왜 만들어졌는지, 왜 유겐 휠러가 로드 존슨이 만든 핵심 코드에 열광해서 오픈 소스까지 하자고 했는지, 그게 중요한 것이다. 도대체 로드 존슨이 어떤 컨셉을 가지고 만들었기에 그런 것일까? 그것이 중요하다.

모든 기술은 핵심 컨셉과 개념이 중요하지, 나머지는 다 부차적인 것이다. 핵심 컨셉에 대해 제대로 이해하고 사용해야 내 것이 되는 것이다. 그래야 '아 이게 컨셉이 이러니까 이렇게 기능을 개발했구나' 하면서 자연스럽게 이해할 수 있는 것이지, 안 그러면 그냥 API 사용법만 배우게 되는 것이다. 단순하게 API 사용법만 안다고 스프링을 잘 하는 것이 절대 아니다. 스프링을 어떤 핵심 컨셉을 가지고 만들었는지 본질적인 것을 알아야 한다.

<br>

스프링의 핵심 개념, 컨셉이 무엇일까? 한 번 생각나는 것을 쭉 나열해보면 다음과 같다.

* 웹 애플리케이션 만들고, DB 접근 편리하게 해주는 기술?
* 전자정부 프레임워크?
* 웹 서버도 자동으로 띄워주고?
* 클라우드, 마이크로서비스?

<br>

이게 핵심이 아니다. 위의 것들은 다 결과물일 뿐이다.

스프링의 <u>진짜 핵심</u>은 다음과 같다.

* 스프링은 자바 언어 기반의 프레임워크
* 자바 언어의 가장 큰 특징 - <b>객체 지향 언어</b>
* 스프링은 객체 지향 언어가 가진 강력한 특징을 살려내는 프레임워크
* 스프링은 <b>좋은 객체 지향</b> 애플리케이션을 개발할 수 있게 도와주는 프레임워크

<br>

스프링은 객체 지향 언어가 가진 강력한 특징을 살려내는 프레임워크이고, 정리하면 좋은 객체 지향 애플리케이션을 개발할 수 있도록 개발자들을 도와주는 프레임워크인 것이다. 

당시에 로드 존슨의 책이 나오고 왜 많은 개발자들이 열광을 했냐면, 당시 EJB를 사용하면 EJB를 상속받고 하면서 굉장히 지저분하게 EJB에 의존적으로 개발을 해야 했다. 그러면 무슨 문제가 생기냐면, 객체 지향이 가지는 좋은 장점들을 다 잃어버리는 것이다. 그냥 EJB에 종속돼서 EJB 스타일로 개발을 할 수밖에 없던 것이다. 그래서 순수한 자바, 순수한 객체지향으로 돌아가자는 취지에서 POJO라는 단어도 나왔었다. 순수한 과거 자바 스타일로 돌아가자는 것이다. 그 핵심이 스프링이 가진 DI 컨테이너에 그것을 가능하게 하는 것들이 있었다. 이게 대단한 것이 아니라, 객체지향 프로그래밍을 잘 할 수 있게 도와주는 도구인 것이다.

<br>

그러면, '좋은 객체지향이 뭘까?'를 이해해야 스프링 프레임워크를 제대로 이해할 수 있다. 이게 모든 것의 출발점이다.