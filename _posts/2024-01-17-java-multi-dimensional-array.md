---
layout: post
title: 2차원 배열
categories: Java
date: 2024-01-17 23:29:00 +0900
---
다차원 배열(multi-dimensional array)이란 2차원 이상의 배열을 의미한다.

배열의 요소로 또 다른 배열을 가지는 배열이다. 이때 또 다른 배열을 가지고 있다는 것은, <b>다른 배열의 '참조값'을 가지고 있다는 것</b>이다.

- 2차원 배열은 배열 요소로 1차원 배열의 참조값을 가지는 배열
- 3차원 배열은 배열 요소로 2차원 배열의 참조값을 가지는 배열

<br>

2차원 배열을 선언하는 방법은 크게 3가지가 있다.

* ```int[][] iArr``` - 권장되는 방법
* ```int iArr[][]```
* ```int[] iArr[]```

위 세 가지는 배열 변수만 선언된 것이고, 실제 배열 객체가 생성된 것은 아니다.

<br>

2차원 배열을 생성하는 방법은 다음과 같다.

* ```배열의 이름 = new 배열유형[1차원 배열개수][1차원 배열의 크기];```
* ```배열의 이름 = new 배열유형[1차원 배열개수][]```

이때 '배열유형'이란 <b>자료형</b>을 말하는 것이다.

<br>

배열의 생성 및 초기화를 한 번에 하려면 다음과 같이 하면 된다.

```java
배열이름 = new 자료형[][] {
    {1, 2, 3, 4, 5},
    {6, 7, 8, 9, 10},
    {11, 12, 13, 14, 15}
};
```

행(row)과 열(column)으로 생각하면 이해가 쉽다.

<br>

자바에서 2차원 배열 안의 배열들은 <u>길이가 다른 것이 가능하다.</u> 가령 다음과 같이 2차원 배열을 생성 및 초기화할 수 있는 것이다.

```java
int[][] arr = new int[][] {
    {1, 2, 3, 4},
    {5, 6, 7},
    {8}
};
```

각각의 배열(```{1, 2, 3, 4}, {5, 6, 7}, {8}```)의 참조값이 3개의 배열 요소에 각각 들어가 있는 것이다. 독립적으로 길이가 정해진 것이다.

마찬가지로 자바에서 배열은 한 번 길이가 정해지면 바꿀 수 없다. 만약 길이를 바꾸려면 기존 배열의 내용을 복사하고, 참조값을 다른 것으로 변경해줘야 한다.

<br>

2차원 배열을 선언할 때, 1차원 배열(열)의 길이까지 정할 수도 있고, 안 정할 수도 있다.

다음 코드를 보자.

```java
int[][] arr = new int[3][];

System.out.println(arr[0]);     // 1차원 배열의 개수만 지정하는 방식(행의 크기만 지정)
// 1차원 배열은 아직 생성되지 않았고, 연결되지 않음.
```

위 코드의 출력값은 다음과 같다.

```
null
```

즉, 아직은 1차원 배열이 연결되지 않은 것이다. 이때 1차원 배열을 연결하려면, 1차원 배열을 각각 생성하고 연결해줘야 한다.

연결하는 방법 예시는 다음과 같다.

```java
int[][] arr = new int[3][];

arr[0] = new int[] {1, 2, 3};
arr[1] = new int[] {4, 5, 6, 7, 8};
arr[2] = new int[] {9, 10};
```

즉, 2차원 배열의 원소에 접근하려면 먼저 행의 번호를 지정하고, 실제 1차원 배열 안에서 각 원소의 index를 지정한다. (열)

<br>

<b>2차원 배열의 메모리</b>는 다음과 같다.

```java
int[][] arr = new int[2][];
arr[0] = new int[3];
arr[1] = new int[10];
arr[1][1] = 100;
```

일단, 비어있는 두 칸짜리 배열이 메모리상 어딘가에 만들어졌다. 그리고 세 칸짜리 0으로 초기화되어 있는 배열이 메모리상 어딘가에 만들어졌다. 이 세 칸짜리 배열의 참조값이 arr의 첫 번째 칸에 들어갔다. 또, 열 칸짜리 배열이 요소 값들이 0으로 초기화된 채 메모리상 어딘가에 만들어졌다. 이 열 칸짜리 배열의 참조값이 arr의 두 번째 칸에 연결되었다. 그 다음에 ```arr[1][1] = 100;```이란 arr의 1번 인덱스인 열 칸짜리 배열 중 1번 인덱스의 값이 100으로 채워지는 것이다. (0에서 100으로 바뀌는 것이다.)