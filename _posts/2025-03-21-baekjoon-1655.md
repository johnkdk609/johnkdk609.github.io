---
layout: post
title: 백준 1655번 - 가운데를 말해요
categories: Algorithm
date: 2025-03-21 23:45:00 +0900
---
<a href="https://www.acmicpc.net/problem/1655" target="_blank">백준 1655번 가운데를 말해요</a> 문제는 힙큐(heapq)를 사용해야 하는 문제이다.

입력으로 주어지는 N 의 크기가 100,000이나 되기 때문에, 매번 정렬을 하면 시간 초과가 발생하게 된다.

이렇게 정렬(sorting)과 관련한 문제풀이에서는 다음과 같은 기준을 적용할 수 있다.

### "문제풀이에서 정렬을 한 번 해서 해결할 수 있으면 sort, 정렬을 여러번 해야 하는 경우에는 heapq 를 사용한다."

<br>

그러므로 이 문제는 heapq 를 사용해야 한다.

그런데 heapq는 최소 힙(min heap)과 최대 힙(max heap)만 있다. 이 문제에서는 중간값을 요구한다.

이럴 때에는 <b>힙큐를 두 개 사용해야</b> 한다.

<br>

답안 코드는 다음과 같다.

```python
import heapq
import sys

input = sys.stdin.readline

N = int(input())
max_heap = []   # 왼쪽 - '최대 힙'
min_heap = []   # 오른쪽 - '최소 힙'

for _ in range(N):
    num = int(input())

    # 최대 힙이 비었거나, 숫자가 최대 힙의 루트보다 작으면 최대 힙에 추가
    if not max_heap or num <= -max_heap[0]:
        heapq.heappush(max_heap, -num)
    else:
        heapq.heappush(min_heap, num)

    # 힙 크기 균형 유지 (최대 힙이 항상 같거나 한 개 더 크도록)
    if len(max_heap) < len(min_heap):
        heapq.heappush(max_heap, -heapq.heappop(min_heap))
    elif len(max_heap) > len(min_heap) + 1:
        heapq.heappush(min_heap, -heapq.heappop(max_heap))

    # 중간값 출력
    print(-max_heap[0])
```

우선 앞, 뒤로 두 개의 리스트를 생성할 것인데, 앞은 최대 힙(max heap)이고 뒤는 최소 힙(min heap)이다.