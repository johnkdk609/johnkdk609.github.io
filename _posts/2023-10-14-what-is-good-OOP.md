---
layout: post
title: 좋은 객체 지향 프로그래밍이란?
description: 스프링 핵심 원리 - 기본편
categories: Spring-SpringBoot
date: 2023-10-14 13:18:00 +0900
---
좋은 객체 지향 프로그래밍이 무엇인지 알아보겠다.

## 객체 지향 특징

* 추상화
* 캡슐화
* 상속
* <b>다형성</b>

객체 지향은 위의 네 가지 특성을 가지고 있다. (자바 초급 수준이라고 할 수 있다.)

객체 지향 프로그래밍에 대한 위키의 정리는 아래와 같다.

* 객체 지향 프로그래밍은 컴퓨터 프로그램을 명령어의 목록으로 보는 시각에서 벗어나 여러 개의 독립된 단위, 즉 <b>"객체"들의 모임</b>으로 파악하고자 하는 것이다. 각각의 <b>객체는 메시지를 주고받고</b>, 데이터를 처리할 수 있다. (<b>협력</b>)
* 객체 지향 프로그래밍은 프로그램을 <b>유연하고 변경이 용이</b>하게 만들기 때문에 대규모 소프트웨어 개발에 많이 사용된다.

여기서 핵심 키워드는 '객체들의 모임', '메시지를 주고받고', '유연하고 변경이 용이'이다.

<br>

'<b>유연하고 변경이 용이</b>'하다는 뜻이 뭘까?

* 레고 블럭을 조립하듯이
* 키보드, 마우스 갈아 끼우듯이
* 컴퓨터 부품 갈아 끼우듯이

컴포넌트를 쉽고 유연하게 변경하면서 개발할 수 있는 방법이 '유연하고 변경이 용이'한 객체 지향의 가장 큰 방법이다. 궁극의 유연함과 궁극의 변경이 용이한 방법, 즉 <b><u>다형성(Polymorphism)</u><b>이다.


## 다형성 (Polymorphism)

다형성을 먼저 실세계로 비유를 들어 보겠다. 프로그래밍 언어를 실세계와 비유했을 때 1:1로 깔끔하게 매칭이 되지는 않는다. 하지만, 실세계의 비유로 이해하기에는 좋다.

이 세상을 <b>역할</b>과 그 역할을 직접 행하는 <b>구현</b>으로 구분해보겠다.

* <b>역할: 인터페이스</b>
* <b>구현: 인터페이스를 구현한 객체</b>

<br>

먼저 운전자 - 자동차 예제이다.

<img width="1147" alt="image" src="https://github.com/johnkdk609/johnkdk609.github.io/assets/88493727/458700ae-188f-4241-9d3b-bf5a758142c3">

운전자라는 역할이 있고, 자동차라는 역할이 있다. 자동차라는 역할을 K3, 아반떼, 테슬라 모델3 즉 3개의 자동차들이 구현했다.

운전자는 K3를 타다가 아반떼로 차를 바꿔도 운전할 수 있다. 왜냐하면 자동차라는 역할에 대한 구현만 바뀌었기 때문이다. <b>자동차가 바뀌어도 운전자에게 영향을 주지 않는다.</b> 내가 테슬라 모델3를 산다고 해서 다른 운전면허를 따야 하는 것은 아니다. (물론 내가 비행기 정도 타면 완전히 바뀌는 것이니 다른 운전 면허를 따야 한다.) 왜 그런 것이냐면 자동차 역할의 인터페이스에 따라서 자동차를 구현했기 때문이다. 운전자는 자동차 역할(인터페이스)에 대해서만 의존하고 있으면 된다. 

자동차라는 <u>역할을 만들고 구현을 분리한 것은 운전자를 위해서 그렇게 한 것</b>이다. 운전자는 클라이언트이다. 클라이언트는 자동차의 내부 구조는 몰라도 된다. <b>구현체들이 내부적으로 바뀌더라도 어쨌든 자동차 역할만 그대로 맞춰서 하고 있으면 클라이언트에게 영향을 주지 않는다.</b> 

이렇게 되면 새로운 자동차가 계속 나올 수 있고, <u>자동차 세상을 무한히 확장시킬 수 있는 것</u>이다. 세상을 바꾸지 않고 새로운 자동차를 출시할 수 있는 것이다. 이것을 조금 더 디테일하게 얘기하면, <b>클라이언트에게 영향을 주지 않고 새로운 기능을 제공할 수 있다는 것</b>이다. 이게 가능한 이유는 역할과 구현으로 세상을 구분했기 때문이다. 정말 중요한 부분은 내가 자동차 역할을 여러 개 구현할 수 있는 것이 아니고, 새로운 자동차가 나와도 클라이언트는 새로운 것을 안 배워도 되는 것이다. 즉, 클라이언트를 바꿀 필요가 없는 것이다.

<br>

이번에는 공연 무대 예제이다.

<img width="1097" alt="image" src="https://github.com/johnkdk609/johnkdk609.github.io/assets/88493727/c5812c83-3888-45f4-9125-8b7d44af3b52">

예를 들어 로미오와 줄리엣 공연이 있다고 할 때, 로미오라는 역할이 있고 줄리엣이라는 역할이 있다. 로미오라는 역할을 장동건이 할 수도 있고 원빈이 할 수도 있다. 줄리엣이라는 역할을 김태희가 할 수도 있고 송혜교가 할 수도 있다.

로미오와 줄리엣 공연을 할 때에는 배우는 대체가 가능해야 한다. 만약 다 몸이 아프면 무명 배우로라도 대체가 가능해야 한다. 공연은 진행돼야 하기 때문이다.

로미오와 줄리엣 공연에서도 역할과 구현의 분리가 이뤄진 것을 볼 수 있다. 그러면 대체 가능성이 생기고, 이게 바로 '유연하고 변경이 용이'한 것이다. 내부 구조를 몰라도 된다. 로미오 역할을 하는 사람은 줄리엣 역할을 김태희가 하든 송혜교가 하든, 상관이 없다. 충실히 대본에 따라서 하면 되는 것이다.

로미오가 클라이언트, 줄리엣이 서버라고 가정해보자. 줄리엣의 구현이 바뀐다고 해서 로미오의 역할에는 영향을 주지 않는다. 다른 대상으로 대체가 가능하다.


### 역할과 구현을 분리

결론적으로 역할과 구현으로 구분하면 세상이 단순해지고, 유연해지며, 변경도 편리해진다.

장점
* <b>클라이언트</b>는 대상의 역할(인터페이스)만 알면 된다.
* <b>클라이언트</b>는 구현 대상의 <b>내부 구조를 몰라도 된다.</b>
* <b>클라이언트</b>는 구현 대상의 <b>내부 구조가 변경되어도</b> 영향을 받지 않는다.
* <b>클라이언트</b>는 구현 <b>대상 자체를 변경해도</b> 영향을 받지 않는다.

<br>

자바 언어도 결과적으로 이러한 개념을 차용한 것이다.

* 자바 언어는 <b>다형성</b>을 활용한다.
    * 역할 = 인터페이스
    * 구현 = 인터페이스를 구현한 클래스, 구현 객체
* 객체를 설계할 때 역할과 구현을 명확히 분리
* 객체 설계시 역할(인터페이스)을 먼저 부여하고, 그 역할을 수행하는 구현 객체 만들기