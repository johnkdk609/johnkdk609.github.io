---
layout: post
title: 클래스 간의 관계 - 포함(composition)
description: Java의 정석 기초편 ch. 7 객체지향 프로그래밍 2
categories: Java
date: 2023-04-12 22:54:00 +09:00
---
상속 이외에도 클래스를 재사용하는 또 다른 방법이 있는데, 그것은 클래스 간에 '포함(composite)' 관계를 맺어주는 것이다. 클래스 간에 포함 관계를 맺어 주는 것은 한 클래스의 멤버변수로 다른 클래스 타입의 참조변수를 선언하는 것을 뜻한다. 

원(Circle)을 표현하기 위한 Circle 클래스와 좌표상의 한 점을 다루기 위한 Point 클래스가 다음과 같이 작성되어 있다고 가정하자.

```java
class Circle {
  int x;  // 원점의 x 좌표
  int y;  // 원점의 y 좌표
  int r;  // 반지름(radius)
}

class Point {
  int x;  // x좌표
  int y;  // y좌표
}
```

위 코드에서 Point 클래스를 재사용해서 Circle 클래스를 작성한다면 다음과 같이 할 수 있다.

```java
class Circle {
  Point c = new Point();  // 원점의 x좌표, y좌표
  int r;
}
```

이와 같이 한 클래스를 작성하는 데 다른 클래스를 멤버변수로 선언하여 포함시키는 것은 좋은 생각이다. 하나의 거대한 클래스를 작성하는 것보다 단위별로 여러 개의 클래스를 작성한 다음, 이 단위 클래스들을 포함 관계로 재사용하면 보다 간결하고 손쉽게 클래스를 작성할 수 있다. 또한 작성된 단위 클래스들은 다른 클래스를 작성하는 데에 재사용될 수 있을 것이다. 

```java
class Car {
  Engine e = new Engine();  // 엔진
  Door[] d = new Door[4];   // 문. 문의 개수를 넷으로 가정하고 배열로 처리했음.
  // ...
}
```


### 클래스 간의 관계 결정하기

클래스를 작성하는데 있어서 상속 관계를 맺어줄 것인지 포함 관계를 맺어줄 것인지 결정하는 것이 헷갈릴 수 있다.

그럴 때는 '~은 ~이다(is-a)'와 '~은 ~을 가지고 있다(has-a)'를 넣어서 문장을 만들어보면 클래스 간의 관계가 보다 명확해진다.

> 원(Circle)은 점(Point)이다. - Circle **is a** Point.\
> 원(Circle)은 점(Point)을 가지고 있다. - Circle **has a** Point.

원은 원점(Point)과 반지름으로 구성되므로 위의 두 문장을 비교해 보면, 첫 번째 문장보다 두 번째 문장이 더 옳다는 것을 알 수 있다.

이처럼 클래스를 가지고 문장을 만들었을 때 '~은 ~이다.'라는 문장이 성립한다면, 서로 상속 관계를 맺어주고, '~은 ~을 가지고 있다.'는 문장이 성립한다면 포함 관계를 맺어주면 된다. 그래서 Circle 클래스와 Point 클래스 간의 관계는 상속 관계보다 포함 관계를 맺어주는 것이 더 옳다. 

몇 가지 더 예를 들면, Car 클래스와 SportsCar 클래스는 'SportsCar는 Car이다.'와 같이 문장을 만드는 것이 더 옳기 때문에 이 두 클래스는 Car 클래스를 조상으로 하는 상속 관계를 맺어 주어야 한다.


> 상속 관계  - '~은 ~이다.(is-a)'\
> 포함 관계  - '~은 ~을 가지고 있다.(has-a)'







