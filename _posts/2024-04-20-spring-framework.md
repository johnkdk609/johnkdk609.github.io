---
layout: post
title: Spring Framework
categories: Spring-SpringBoot
date: 2024-04-20 23:36:00 +0900
---
Spring에 대해서 공부해보겠다.

목차는 다음과 같다.

## 목차

* Spring Framework
* 의존관계 역전
* 의존성 주입
* Spring Container Build
* Spring DI
    1. XML
    2. Annotation
    3. JavaConfig

<br>

## Framework란 무엇인가

* 사전적 의미 : (건물 등의) 뼈대, (판단/결정 등을 위한) 틀
* SW에서의 의미 : <b>SW 특정 문제를 해결하기 위해서 상호 협력하는 클래스와 인터페이스의 집합</b>

예시로 가전제품을 위한 쇼핑몰을 만들었다고 해보자. 그런데 누군가 식당과 관련된 쇼핑몰을 만들고 싶다고 하고, 또 누군가는 의류에 관련된 쇼핑몰을 만들다고 싶다고 한다. 물론 세세한 내용은 달라지더라도, 전체적인 틀은 이전에 만든 가전제품 쇼핑몰을 사용하는 것이 매우 효율적이다.

즉 프레임워크(Framework)라는 것은 틀 같은 것들이 적당히 이미 만들어져 있는 것이다.

내가 발표 자료를 만든다고 하면 Powerpoint라는 프로그램을 이용한다. 이 Powerpoint라는 프로그램이 프레임워크이다.

"내가 프레임워크를 공부한다"는 것은 프레임워크를 만들 줄 아는 사람이 되어야 한다는 것일까, 아니면 프레임워크를 활용해서 무언가를 만들 줄 안다는 것일까? 후자이다. 내가 스프링을 배운다는 것은, 스프링을 활용해서 어떤 것을 만들 수 있어야 하는 것이다. 여기에 focusing을 맞추어야 한다.

<br>

## Framework는 왜 사용하는가?

웹 어플리케이션을 개발하기 위해서는 많은 기본 기능을 설계, 작성해야 한다. (요청 처리, 세션 관리, 리소스 관리, 멀티 쓰레드 등..) 정말 많은 것을 관리해야 하는데, 매번 새롭게 다시 만드는 것은 비효율적이다.

공통으로 사용되는 기본 기능들을 일관되게 사용할 수 있으면 개발자는 웹 어플리케이션 기능 자체 개발에만 신경을 쓰면 되기 때문에 생산성이 높아진다.

개발자 입장에서는 완성된 구조에 맡은 기능을 개발하여 넣어주면 되기 때문에 개발 시간을 단축할 수 있다.

> "거인의 어깨 위에서 시작하라"
> "바퀴를 새롭게 만들지 마라"

프레임워크와 더불어 "라이브러리"라는 말이 자주 사용된다. 프레임워크와 라이브러리는 "내가 만들지는 않았는데 만들어진 기능을 내가 갖다 쓰는 거야"라는 점에서 비슷하다. 프레임워크는 제어의 흐름을 제공한다. 즉 프레임워크가 내가 필요하다면 라이브러리를 가져다 쓰는 것이다. 그런데 라이브러리는 개발자가 직접 가져다 쓴다. <b>코드의 제어를 누가 하느냐? 프레임워크가 주체가 되느냐 아니면 개발자가 주체가 되느냐에 따라 라이브러리와 프레임워크의 차이가 있다.</b>

<br>

## Spring Framework의 등장

자바에서는 EJB(Enterprise JavaBeans)를 이용하여 엔터프라이즈 급 어플리케이션을 제작했다. 90년대 말 즈음 해서 웹사이트가 굉장히 많이 올라가게 되었고, 엔터프라이즈 급 어플리케이션 서비스들이 많이 제공되었다. '엔터프라이즈 급'이란 지속적인 데이터 처리, 막대한 양의 데이터, 동시에 많은 수의 접속자 등 다양한 기능들을 통합한 거대한 규모의 어플리케이션을 지칭한다.

그래서 수많은 프레임워크들이 등장했는데, 그중에서 가장 유명한 것이 EJB(Enterprise JavaBeans)였다. 그런데 생각보다 EJB는 고스펙이었다. 내가 아주 심플한 것을 만들려고 해도 아주 큰 시스템이 필요했다. 개발의 효용성이 굉장히 떨어진 것이다. 그래서 Rod Johnson이라는 사람이 EJB 없이 이러한 것들을 내가 만들 수 있겠다고 하며 몇몇 사람들과 협력하여 스프링(Spring)을 만들었다. EJB의 삭막한 시대에서 한 줄기 봄이 왔다고 하여 스프링이다.

Rod Johnson의 Spring의 특징들은 다음과 같았다.

* 경량 컨테이너 사용
* 의존성 주입
* AOP
* POJO
등...

<br>

그런데 스프링을 우리가 어려워 하는 이유가 있다. 설정할 것들이 엄청 많기 때문이다. "스프링은 설정이 반이다"라는 말이 있을 정도이다. EJB에 비해서 경량이라는 것이지, 여전히 스프링은 할 게 너무나 많다.

그래서 이것보다 조금 더 심플한 것이 나왔는데, 그것이 바로 <b>스프링 부트(Spring Boot)</b>이다. 결국에 스프링 부트는 별다른 것이 아니라 스프링을 조금 더 편하게 사용할 수 있게 한 것이다.

지식을 차곡차곡 쌓아간다는 목표 하에서 스프링 부트부터 시작하는 것이 아닌, 스프링부터 공부하여 원리를 이해하면서 가는 것이 적합하다.

<br>

## Spring Framework의 특징

* POJO(Plain Old Java Object) 방식의 프레임워크
* 의존성 주입(Dependency Injection)을 통한 객체 관계 구성
* 관점 지향 프로그래밍(AOP, Aspect Oriented Programming)
* 제어 역전(IoC, Inversion of Control)
* 높은 확장성과 다양한 라이브러리
등...

우선 POJO 방식의 프레임워크란, 순수한 옛날 방식의 자바 오브젝트를 사용하겠다는 것이다. 서블릿을 학습하고 난 후부터 자바 클래스를 하나 생성했다. 클래스 이름이 HelloServlet이었다고 하자. 이 클래스를 서블릿처럼 쓰기 위해 ```extends HttpServlet```을 붙였었다. 클래스 자체를 서블릿처럼 쓰기 위해 이미 만들어진 것을 가져와서 집어 넣었어야 했다는 것이다. 그런데 이것은 '순수하지 않다.' 이미 만들어져 있는 것을 가져와서 써서 살짝 지져분해진 것이다. 그런데 <u>POJO 스타일은 가령 HelloServlet이라는 클래스를 만들어 놓으면 스프링 컨테이너가 알아서 읽어서 뭔가를 처리해 놓는 것이다.</u> 순수한 상태의 옛날 자바 오브젝트 방식을 쓰는 것이다.

'의존성 주입을 통해 객체 관계를 구성한다'는 것에 대해 생각해보자. 프로그래머라는 사람은 컴퓨터가 필요하다. 이 컴퓨터를 스프링이 집어넣어주는 것이라고 생각하면 된다. 즉 의존성을 주입해주는 것이다.

<br>

## 왜 Spring Framework를 사용해야 하는가?

* Spring is everywhere
    
        전세계 많은 개발자들이 스프링을 사용하고 있다. (Alibaba, Amazon, Google, Microsoft 등)

* Spring is flexible
    
        유연하고 포괄적인 외부 라이브러리 확장을 통해 다양한 형태의 어플리케이션 개발 가능

* Spring is fast
    
        기본적으로 빠른 시작 / 종료 / 최적화된 실행을 확인할 수 있다.

* Spring is productive
    
        Spring boot는 프로그래밍 접근 방식을 변환하여 작업량을 줄여준다. 또한 어플리케이션 컨텍스트 및 웹서비스 등을 결합하여 간단한 프로그래밍을 쉽게 해준다.

* Spring is secure
    
        업계 표준 보안 체계와 쉽게 통합할 수 있고, 기본적으로 신뢰할 수 있는 솔루션을 제공한다.

* Spring is supportive
    
        커뮤니티가 잘 발달해 있으며, 빠른 시작, 가이드, 자습서 등의 리소스를 지원하고 있다.

(spring.io 사이트의 설명글이다.)

<br>

