---
layout: post
title: Web Programming
categories: Spring-SpringBoot
date: 2024-03-19 23:18:00 +0900
---
서블릿(Servlet)에 대해 알아보기 전에, 웹 프로그래밍(Web Programming)이 무엇인지부터 알아보겠다.

## 웹 프로그래밍

프로그램은 무엇인가? <u>프로그램은 명령어들의 집합</u>이다.

커다란 파일을 하나 만들었을 때, main() 함수 안에 코드를 쭉 작성했다. 이런 것들을 프로그램이라고 한다.

그런데 이러한 프로그램이 좋다보니, A라는 사람도 B라는 사람도 이 프로그램에게 "나도 줘"라고 하는 것이다. 원래 같았으면 물리적으로 줄 수밖에 없었다. 그런데 이렇게 물리적으로 주는 것은 한계가 있다. 내가 물리적으로 줄 수 없는 거리에 살거나, 시간이 오래 걸린다는 한계 등이 있는 것이다.

<br>

그런데 우리는 웹(Web)의 시대에 살고 있다. 컴퓨터들이 웹으로 연결되어 있는 것이다.

Web의 시대에서는 요청과 응답이 되는데, 내가 "줘"라고 했던 행위가 요청으로 바뀌게 된다. 그리고 그것을 <b>Request</b>라고 한다. 그리고 이전에 물리적으로 줬던 행위를 응답이라고 하고, 이를 <b>Response</b>라고 하는 것이다.

여기서 요청을 보내는 A는 <b>클라이언트(Client)</b>라고 하고, 프로그램을 가지고 있는 컴퓨터를 <b>서버(Server)</b>라고 한다.

요청과 응답을 주고 받는 것에는 몇 가지 규약 사항들이 있는데, 우리는 그 중 제일 유명한 <b>HTTP</b>를 이용해서 진행할 것이다. (여기서 보안을 좀 추가한 것을 <b>HTTPS</b>라고 한다.)

<br>

서버에서 프로그램이 데이터베이스가 필요하다면, DB라는 것과 소통할 수 있다.

여기서 클라이언트를 제외하고, 서버와 DB 즉 뒤에 있는 일을 하는 사람들을 옛날에는 '<b>서버 개발자</b>'라고 불렀다.

이 프로그램에는 사용자에게 웹으로 줘야 하니까, HTML, CSS, Javascript를 통으로 만들어서 사용자에게 주었어야 했다. 그런데 이제는 화면을 만들어서 주는 행위가 서버 컴퓨터에게 생각보다 부담이 되었다.

그래서 "내가 데이터만 줄테니 화면은 네가 알아서 만들어"라며 클라이언트에게 위임을 해버린다. 데이터를 가지고 화면을 재구성할 수 있는 언어는 Javascript인데, 이러한 작업들을 하는 개발자를 '<b>프론트엔드 개발자</b>'라고 한다. 프론트엔드 개발자는 화면만 예쁘게 만드는 사람이 아니고, 데이터를 받아서 어떻게 보여줄지를 고민하는 사람들이다. 그리고 이런 프론트엔드 개발자의 역할은 점점 늘어나고 있다. 

그리고 그 외에 안쪽에서 하는 개발을 하는 사람들을 '<b>백엔드 개발자</b>'라고 한다. 물론 백엔드 개발은 너무나 할 역할이 많다. 그래서 백엔드 개발도 DB, AWS 배포, 프로그래밍 언어 등 다양하게 분화된다.

<br>

여담으로, <b>배포</b>란 무엇일까? <u>내가 만든 프로그램을 다른 사람들이 편하게 쓸 수 있게 만들어주는 것</u>이다.

AWS 같은 것을 안 쓰고 내 컴퓨터로 배포를 할 수 있을까? 가능하다.

요청을 주는 컴퓨터가 클라이언트 컴퓨터이고, 요청을 받는 컴퓨터는 서버 컴퓨터이다. 그러면 내가 어쩔 때에는 클라이언트가 될 수도 있고, 어쩔 때에는 서버가 될 수도 있다. "이 컴퓨터는 서버 컴퓨터야", "이 컴퓨터는 클라이언트 컴퓨터야"의 방식으로 구분을 짓지 말아야 한다. 그냥 요청을 주는 사람이 클라이언트, 요청을 받는 사람이 서버라고 생각하면 된다.

<br>

클라이언트가 데이터를 받기 위해서 사용하는 것이 하나 있다. 바로 <b>브라우저(Browser)</b>이다. 크롬(Chrome)도 브라우저인데, 브라우저도 하나의 컴퓨터라고 생각하면 된다. STS를 이용해서 실행을 할 때, 이것 또한 하나의 컴퓨터를 켠 것과 똑같다고 생각하면 된다.

즉, 내가 물리적으로는 한 대의 컴퓨터를 사용하고 있는 것이지만, 그 안에 내부적으로 컴퓨터를 브라우저 한 대, STS 한 대, 데이터베이스 프로그램 한 대 등... 여러 개를 켠 것이다.

<br>

STS로 알고리즘 문제를 풀 때, <kbd>Ctrl + F11</kbd>를 많이 눌렀었다. 이렇게 해서 Run을 진행했는데, 이것은 코드가 짜놓은 부분만 쭉 실행되고 종료된 것이다. 그런데 내가 만약 서비스를 만들어서 배포를 해서 실행을 시켜놨는데 그 컴퓨터가 꺼지면 안 된다. 

내가 전기세를 생각하지 않고 집에서 PC를 계속 켜 두면 상관없다. 하지만 컴퓨터를 계속 켜놓기 부담스럽고, 프로그램을 위한 자원을 계속 할당하니 다른 작업을 못 할 것 같다.

그래서 컴퓨터를 빌리는 것이다. 가장 유명한 곳이 AWS이다. 컴퓨터를 빌리는 대신, 전기세와 사용료 등을 내야 한다.

<br>

## Web Architecture

<b>웹 아키텍처(Web Architecture)</b>가 어떻게 되어 있는지 알아보겠다.

우선 User가 있다. 우리가 바로 User이다.

그리고 User는 브라우저를 사용한다. 이 브라우저가 클라이언트(Client)이다. 우리가 자주 사용하는 크롬(Chrome)이 브라우저이다.

그리고 서버(Server)라는 곳에 요청(request)을 보내고 응답(response)을 받는다.

<br>

가령, 어떤 사이트에 접속을 하려고 한다고 해보자. 브라우저에 직접적으로 주소를 쓰거나, 클릭을 하는 방식으로 요청을 보낼 것이다. 요청은 해당 사이트가 올라가 있는 서버 컴퓨터에 보내는 것이다.

서버 컴퓨터에서는 내부적으로 <b>webserver</b>이 있고, <b>Application Server</b>가 있고, <b>DB</b>가 있다. 역할을 구분해야 한다.

<u>webserver은 정적 페이지(static web page)를 돌려준다.</u> 모든 사람이 똑같은 화면을 얻는 것이다. 가령 어떤 사이트에서는 누가 들어오든 로그인 창이 뜬다. 이 로그인 창은 A가 들어오든, B가 들어오든 다 똑같은 창이다. 그래서 Application Server까지 갈 것 없이, webserver 안에서 충분히 처리 가능하다. 그냥 HTML, CSS, Javascript로 만들어져 있는 페이지를 응답으로 주면 되는 것이다.

<br>

그런데 로그인까지 마치고, 이제 MyPage가 나와야 하는 상황이라고 가정해보자.

A가 로그인을 했다면 A의 MyPage에는 A의 사진, 정보 등 다양한 데이터가 나타날 것이다. 

webserver는 정적 페이지만을 바로 돌려줄 수 있다고 했는데, 데이터에 의해 화면이 계속 바뀌어야 하는 동적 페이지(dynamic web page)를 만들어야 한다고 했을 때에는 webserver에서 내부적으로 처리할 수 있는 로직이 없다. 그래서 Application Server에게 넘긴다. Application Server의 부분은 자바 코드로 짠다.

<br>

Application Server는 크게 3 가지 영역으로 나뉜다.

1. Presentation
2. Business Logic
3. Persistence Logic

당장에는 Business Logic과 Persistence Logic을 하나로 묶어서 처리할 것이지만, 나중에는 이조차도 나눠서 처리할 것이다.

로직에만 집중해보면, "A가 왔다. A의 정보 가져와"를 데이터베이스(DB)에게 요청한다. 그러면 데이터베이스가 그 정보를 가져와서 Application Server에 싣고, Application Server은 다시 webserver에게 전달해주고 "이제 사용자에게 전해줘"를 하는 것이다. 그리고 사용자는 원하는 페이지를 받는 것이다.

<br>

### WAS (Web Application Server)

Server라는 커다란 폼 안에서 webserver와 Application Server를 하나로 묶어서 '<b>WAS(Web Application Server)</b>'라고 부른다. 

이 WAS는 직접 구현하기 매우 어렵기 때문에 이미 구현되어 있는 것을 가져다 쓸 것이다.

WAS의 종류는 굉장히 많다. VMWare, Tomcat 등등... 우리는 Apache 재단의 Tomcat을 사용할 것이다.

<br>

## 웹 프로그래밍 용어

용어들을 좀 살펴보겠다.

* <b>웹 페이지 (Web Page)</b> - 웹 브라우저를 통해서 보여지는 화면
* <b>웹 서버 (Web Server)</b> - 클라이언트 요청에 맞는 응답(웹 페이지)을 제공
* <b>웹 어플리케이션 (Web Application)</b> - 웹 서버를 기반으로 실행되는 응용 소프트웨어
* <b>웹 어플리케이션 서버 (Web Application Server, WAS)</b> - 요청이 오면 알맞은 프로그램을 실행하여 응답 만들고 제공하는 서버

<br>

### URI? URL? URN?

* <b>URI (Uniform Resource Identifier)</b>
    * 통합자원 식별자
    * 인터넷 상의 자원을 고유하게 식별하는 데 사용
    * URL과 URN을 포함하는 상위 개념
* <b>URL (Uniform Resource Locator)</b>
    * 통합 자원 위치
    * 자원의 위치를 나타내는 데 사용
* <b>URN (Uniform Resource Name)</b>
    * 통합 자원 이름
    * 자원에 대한 고유한 이름을 제공

엄밀히 따지면 URI라고 표현하는 것이 적절하겠지만, 대부분의 사람들이 그냥 URL로 표현을 하는 경향이 있다.

도서에는 ISBN이라는 것이 붙는데, 이것이 URN이다.

이해를 돕기 위한 예시로 본다면, URL은 도로명 주소이다. 지금 내가 공부하고 있는 캠퍼스의 도로명 주소인 것이다. URN은 내가 있는 이 건물의 고유한 이름이다. 그리고 이 도로명 주소의 건물 이름이라고 하면 그게 통합된 URI인 것이다. (중복되어서는 안 되고 고유한 식별자여야 한다.)